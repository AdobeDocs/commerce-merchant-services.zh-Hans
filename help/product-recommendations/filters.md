---
title: 筛选产品
description: 定义包含或排除用作推荐的产品的条件。
exl-id: baab28ff-b529-4cbc-adb7-4fa225e87d4a
source-git-commit: 3d0de3eeb4aa96c996bc9fa38cffd7597e89e7ca
workflow-type: tm+mt
source-wordcount: '698'
ht-degree: 0%

---

# 筛选产品

Adobe Commerce会自动将不可配置的默认过滤器应用到推荐单位。 如果一个页面部署了多个推荐单元，则Adobe Commerce会过滤掉以该单元重复出现的任何产品。 只使用对重复产品的第一个引用，为推荐其他产品腾出空间。 Adobe Commerce还会过滤掉以前购买的任何产品以及购物车中的产品。

当您 [创建](create.md) 作为推荐单元，您可以定义过滤器，以控制哪些产品可以在推荐中显示。 这些过滤器基于您定义的一组包含或排除条件。 只有符合所有包含条件的产品才会显示在推荐中。 不建议使用与任何排除条件匹配的产品。

您可以配置多个过滤器，并通过选择每个过滤器页面上的切换开关，仅启用所需的过滤器。 这允许您创建过滤器草稿以供将来使用。 每个选项卡上会显示已启用的过滤器数量。

## 条件

条件可以是静态的或动态的。

- 静态条件使用现有产品属性来确定哪些产品可以在单元中显示。 例如，您可以指定，只有价格大于$25的库存产品才会以单位显示。 静态条件适用于所有页面类型。

- 购物者当前上下文的动态条件键，如当前查看的类别或产品。 例如，在创建要部署在产品详细信息页面上的产品推荐时，您可以创建一个条件，以便仅推荐当前查看产品的相对价格范围内的产品。 除了主页之外，每种页面类型上都提供了动态条件，并且在包含推荐的页面上也提供了随页面生成器一起放置的条件。

### 逻辑运算符

逻辑运算符 `AND` 和 `OR` 用于连接多个条件。 如果同时使用包含过滤器和排除过滤器，则首先会评估包含项以确定可推荐的所有可能产品，然后会从列表中删除与任何排除过滤器匹配的产品。

- `AND`  — 加入两个包含过滤条件
- `OR`  — 加入两个排除过滤条件

>[!NOTE]
>
> 包含过滤器和排除过滤器将替换3.2.2及更高版本中的旧版类别排除 `magento/product-recommendations` 模块。 请参阅 [发行说明](release-notes.md) 了解有关Adobe Commerce版本的更多信息。

## 过滤器类型 {#filtertypes}

![过滤器](assets/rec-conditions.png)

### 类别

基于产品类别的过滤器使用直接类别分配及其子类别。 例如，为类别启用排除条件 `Gear` 排除分配给 `Gear` 及所有子类别，如 `Gear/Bags` 或 `Gear/Fitness Equipment`. 对于B2B商户，“类别”过滤器会粘贴到任何 [特定于客户的产品类别]https://experienceleague.adobe.com/docs/commerce-admin/catalog/categories/category-permissions.html)。

Adobe Commerce建议在将推荐部署到页面类型时使用以下类别过滤器配置：

| 页面 | 过滤依据 |
|---|---|
| 主页 | 请勿筛选产品。 |
| 类别 | 过滤特定类别中的产品。 |
| 产品详细信息 | 过滤相同类别中的产品。 |
| 购物车 | 过滤购物车中的产品类别。 |
| 订单确认 | 过滤所购产品的类别。 |

### 产品

产品过滤器指定哪些特定产品符合条件或不符合条件，才能在推荐中显示。 您无法选择单独禁用或不显示的产品，因为这些产品永远无法在推荐中显示。

### 类型

基于产品类型的过滤器包括或排除特定类型的所有产品。 支持的类型包括 _简单_, _可配置_, _虚拟_, _可下载_&#x200B;或 _礼品卡_. _捆绑_ 和 _分组_ 尚不支持产品。

### 可见性

根据可见性过滤产品，例如： _目录_, _搜索_，或两者兼有。

### 价格

基于产品价格的过滤器使用最终价格进行比较。 最终价格包括向匿名购物者提供的任何折扣或特价。 对于B2B商户，显示的价格反映 [客户特定的组定价](https://experienceleague.adobe.com/docs/commerce-admin/catalog/products/pricing/pricing-advanced.html) 您已配置。

### 库存状态

以下排除过滤器可用于根据库存状态过滤出产品：

- 无现货 — （仅限排除）排除无现货的产品。
- 库存不足 — （仅限排除）排除库存不足的产品。 低库存状态基于 _仅X左阈值_ 值 [库存配置](https://experienceleague.adobe.com/docs/commerce-admin/config/catalog/inventory.html).
