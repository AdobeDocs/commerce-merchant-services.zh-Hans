---
title: "添加规则"
description: “了解如何创建搜索促销规则。”
exl-id: c6b92ef5-3b08-47f9-8412-955a9c95a9ee
source-git-commit: 888b81683a4e139a35b771d9c573f1f5f0c3b902
workflow-type: tm+mt
source-wordcount: '1430'
ht-degree: 0%

---

# 添加规则

要构建规则，第一步是使用规则编辑器定义购物者的查询文本中触发关联事件的条件。 然后，完成规则详细信息，测试结果并发布规则。

## 添加规则

1. 在“管理员”中，转到 **营销** > SEO和搜索> **[!DNL Live Search]**.
1. 设置 **范围** 以识别 [商店视图](https://experienceleague.adobe.com/docs/commerce-admin/start/setup/websites-stores-views.html#scope-settings) 规则适用的位置。
1. 单击 **搜索促销** 选项卡。
1. 单击 **添加规则** 以启动规则编辑器。

## 条件

条件是触发事件的要求。 一个规则最多可以有10个条件和25个事件。

![规则 — 构建规则](assets/rules-add-workspace.png)

>[!NOTE]
>
>目前，无法将规则定位到特定的客户组。

### 单个条件

1. 下 *构建规则*，选择 **条件** ，并按照说明完成陈述。

   * 搜索查询包含 — 输入购物者查询中必须包含的文本字符串。 匹配设置确定购物者的查询与目录匹配的程度。 选项：<br /> 任意 — 购物者的查询文本的任何部分都可以匹配条件。<br />全部 — 购物者的所有查询都必须符合条件。
   * 搜索查询为 — 输入与购物者的查询完全匹配的文本字符串。 例如：“yoga pants”。 规则 `Search query is` 和匹配 `All` 只能有一个条件。
   * 搜索查询开头为 — 输入必须在购物者查询开头的字符或文本字符串。
   * 搜索查询结尾为 — 输入必须在购物者查询末尾的字符或文本字符串。

   结果会立即显示在 *测试您的规则* 窗格中设置的多个字段，并按优先级进行编号。 您可以使用 *每行的结果* 滑块可更改每行的产品数。

   ![规则 — 简单](assets/rule-simple-test.png)

1. 要测试其他查询，请更改 *测试您的规则* 搜索框并按 **返回**.
最初，测试窗格从“条件”搜索框中呈现查询。 但现在，它从测试查询框呈现查询。 测试窗格一次只呈现一个查询。
1. 如果您喜欢该结果，请更新 *条件* 搜索框。 然后，单击页面上的任意位置以更新测试窗格中的结果。
1. 要构建具有一个条件的简单规则，请转到步骤3： [添加事件](#events).

### 多个条件

1. 要构建包含多个条件的规则，请单击 **添加条件**.
一个规则最多可以有10个条件。 连接两个条件的逻辑运算符基于当前 *匹配* 设置。 默认情况下， *匹配* 是 `All` 逻辑运算符为 `AND`.

   ![规则 — 搜索查询包含](assets/rules-search-query-contains-and.png)

1. 选择第二个条件并输入所需的查询文本。

1. 要更改规则的逻辑，请更改 **匹配** 设置，以确定购物者的搜索条件与查询条件的匹配程度。 设置 **匹配** 更改为以下任一项：

   * 任意 — （默认）规则中的所有逻辑运算符均设置为 `OR` 并且结果会显示在测试窗格中。
   * 全部 — 规则中的所有逻辑运算符均设置为 `AND` 并且结果会显示在测试窗格中。

   此 *匹配* 值确定用于连接多个条件的逻辑运算符。 更改 *匹配* 设置会更改规则中的所有逻辑运算符。 无法合并 `AND` 和 `OR` 在同一条规则中。

   在本例中，不是搜索“yoga pants”，而是有两个单独的查询来搜索“yoga”或“pants”。 此规则的具体性较低，在店面触发的频率高于其他规则。

   ![规则 — 匹配](assets/rules-match.png)

1. 要添加其他条件，请单击 **添加条件** 然后重复这个过程。

## 智能排名

智能排名将用户行为和网站统计数据相结合，以确定产品排名。
商店所有者可以设置以下类型的排名策略：

![规则 — 匹配](assets/rules-ranking-type.png)

* 购买次数最多：此指标按过去7天内每个SKU的总购买次数对产品进行排名。
* 添加到购物车次数最多 — 按照过去7天中的“添加到购物车”活动总数进行排名。
* 查看次数最多：对过去7天内每个SKU查看的总次数排名。
* 为您推荐 — 使用 `viewed-viewed` 数据点 — 查看此SKU的购物者还会查看这些其他SKU
* 趋势：回顾过去72小时内的页面查看事件（对于后台事件）和24小时内的页面查看事件（对于前台事件）
* 无：产品按相关性排序

1. 选择规则的策略类型。 “测试您的规则”窗口将显示预期结果。

>[!NOTE]
>
>查询中的撇号和引号可能会导致某些语言中的排名和相关性出现一些小问题。

## 手动排名

手动排名（以前称为事件）是在满足定义的条件时修改搜索结果的操作。 单个规则最多可以包含25个事件。

* 提升 — 将产品在搜索结果中向上移动。
* Bury — 将SKU在搜索结果中下移。
* 固定产品 — 产品显示在页面上选定的“位置”中。
* 隐藏产品 — 从搜索结果中排除SKU。

固定产品的最简单方法是拖放。

1. 在“测试”窗格中单击并拖动产品。 将其拖放到所需位置。 产品和位置字段会自动填充到“事件”窗格中。

   ![规则 — 匹配](assets/rule-event-pin-product.png)

您还可以单击大头针图标以将产品固定到其当前位置。 使用省略号上下文菜单“固定到顶部”或“固定到底部”。

>[!NOTE]
>
>您只能固定查询中返回的产品。

或者，可以手动设置事件：

1. 下 *活动*，选择 **事件** 当满足相关条件时发生。

   例如，选择 `Hide a product`. 然后，输入要隐藏的产品名称。 产品随您的键入一起推荐。

1. 对于多个事件，选择满足条件时要触发的任何其他事件。

## 其他详细信息

此处输入的信息显示在 [规则详细信息](rules-workspace.md) 面板。

1. 下 *详细信息*，输入 **名称** 用于规则。 所有规则名称必须唯一。
1. 输入摘要 **描述** 规则的。
1. 输入 **开始日期** 和 **结束日期** 使规则处于活动状态或从日历中选择日期。

   要选择日期范围，请单击第一个日期，然后拖动以选择范围。

   ![规则 — 完成](assets/rule-add-details.png)

## 最终确定规则

1. 在测试窗格中检查规则的结果。
1. 如果规则具有多个查询，请测试每个可能受规则影响的查询。
1. 完成后，单击 **保存并发布**.

   该规则将添加到规则工作区的列表中。

1. 虽然活动规则会立即生效，但您最多可能必须等待15分钟才能刷新店面中的缓存查询结果。

## 字段描述

### 条件(if)

| 条件 | 描述 |
|--- |--- |
| 搜索查询包含 | 购物者的查询中包含的字符或文本字符串。 购物者的查询只需要匹配单个字符即可满足此条件。 |
| 搜索查询为 | 与购物者的查询完全匹配的字符或文本字符串。 使用此条件时，无法组合具有多个条件的复杂查询。 |
| 搜索查询始于 | 购物者的查询以此字符或文本字符串开头。 |
| 搜索查询结束于 | 购物者的查询以这个字符或文本字符串结尾。 |

### 逻辑运算符

| 操作员 | 描述 |
|--- |--- |
| 或者 | （默认）逻辑运算符 `OR` 比较两个条件并满足在至少有一个条件为true时触发事件的要求。 |
| 和 | 逻辑运算符 `AND` 比较两个条件并满足在两个条件都为true时触发事件的要求。 |

### 匹配运算符

| 操作员 | 描述 |
|--- |--- |
| 任何 | 将规则中的所有逻辑运算符更改为 `OR` 并返回匹配产品集。 |
| 全部 | 将规则中的所有逻辑运算符更改为 `AND` 并返回匹配产品集。 |

### 手动排名

| Event | 描述 |
|--- |--- |
| 提升 | 在搜索结果中将SKU或SKU范围移到较高的位置。 每个报表在测试搜索结果中均标有“已提升”预览徽章。 |
| Bury | 将搜索结果中的SKU或SKU范围下移。 每个页面在测试搜索结果中均标有“掩埋”预览徽章。 |
| 固定产品 | 将单个SKU附加到搜索结果中的特定位置。 产品在测试搜索结果中标有“已固定”预览徽章。 |
| 隐藏产品 | 从搜索结果中排除SKU或SKU范围。 |

### 详细信息

| 字段 | 描述 |
|--- |--- |
| 名称 | 规则的名称。 规则名称必须唯一。 |
| 开始日期 | 规则的开始日期（如果已计划）。 |
| 结束日期 | 规则的结束日期（如果已计划）。 |
| 描述 | 规则的简要说明。 |
